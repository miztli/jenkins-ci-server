# Pipeline using Jenkinsfile with Pipeline plugin

This example will help you to start your first jenkins pipeline using minimum plugin configuration and docker containers.

This example contains integration with a SCM, docker and Jenkins.

### Requirements
The following plugins need to be available for the Pipeline project. Click [here](configure-plugins.md) for the instructions on configuring each plugin.

 - JDK Plugin
 - Gradle Plugin (For gradle builds)
 - Blue Ocean Plugin ('Optional' for better UI traceability)
 - Pipeline Plugin (For jenkinsfile and job configuration)
 - Bitbucket Plugin (For Bitbucket SCM integration)
 - Docker Pipeline Plugin (For docker build slaves)
 - Amazon ECR Plugin (For aws integration)

### Configure New Item

1. From the jenkins dashboard, select: ***New Item***.
2. Type an item name.
3. Select the option on the list: ***Pipeline > OK***
4. A new window will pup up, then we need to configure our Jenkins job.
5. Follow the next steps to get the job ready. _Note: leave not mentioned fields with the default values_
 - _Description_
  * Add a description to your jenkins job.
 - _Build triggers_
  * Select Build when a change is pushed to Bitbucket

 - _Pipeline_
  * Definition: Select 'Pipeline script from SCM'.
  * Repository URL: Type the https or ssh URL of your repo.
  * credentials: Select the accurate credentials.
  * Branches to build: Specify one or more branches from which the jenkins project will listen events.
  * Script Path: set to 'Jenkinsfile'.

### Configure Credentials
Follow the next instructions to add your AWS credentials.

1. Click on ***Credentials > System > Jenkins > Global Credentials > Add Credentials***
2. Add the following properties to the configurations _(Note: leave not mentioned fields with the default values)_:
 * Kind: 'AWS credentials'.
 * Scope: System (Jenkins and nodes only).
 * ID: Type the ID which will be used to identify your credentials.
 * Description: Add a description for your credentials.
 * Access Key ID: The Access Key generated by the creation of an IAM User on AWS console.
 * Secret Access Key: The Secret Access Key generated by the creation of an IAM User on AWS console.
3. Click on ***OK*** to save the credentials.
